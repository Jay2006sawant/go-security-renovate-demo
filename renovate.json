{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Renovate configuration for Go Security Demo - Updates dependencies ONLY when vulnerabilities are detected",
  "extends": [
    "config:base"
  ],
  "timezone": "UTC",
  "labels": [
    "dependencies",
    "security"
  ],
  "assignees": ["@Jay2006sawant"],
   "reviewers": ["@Jay2006sawant"],
  "vulnerabilityAlerts": {
    "enabled": true,
    "description": "Enable vulnerability-based dependency updates"
  },
  "osvVulnerabilityAlerts": true,
  "separateMinorPatch": true,
  "separateMajorMinor": true,
  "separateMultipleMajor": true,
  "prTitle": "üîí [SECURITY] {{{depName}}} vulnerability fix",
  "prBodyTemplate": "This PR addresses a security vulnerability in {{{depName}}}.\n\n**Vulnerability Details:**\n- Current Version: {{{currentVersion}}}\n- New Version: {{{newVersion}}}\n- Vulnerability: {{#if vulnerabilityAlert}}{{vulnerabilityAlert.title}}{{/if}}\n\n**Security Advisory:**\n{{#if vulnerabilityAlert}}{{vulnerabilityAlert.description}}{{/if}}\n\n---\n\n{{#if hasReleaseNotes}}\n{{{releaseNotes}}}\n{{/if}}\n\n---\n\nThis update was automatically generated by Renovate to address known security vulnerabilities.",
  "prBodyColumns": [
    "Package",
    "Type",
    "Update",
    "Change",
    "Vulnerability"
  ],
  "branchPrefix": "renovate-security/",
  "commitMessagePrefix": "üîí [SECURITY]",
  "commitMessageAction": "update",
  "commitMessageTopic": "{{{depName}}}",
  "commitMessageExtra": "to fix vulnerability",
  "addLabels": ["security-update", "automated"],
  "gomod": {
    "enabled": true,
    "description": "Enable Go modules support",
    "vulnerabilityAlerts": {
      "enabled": true
    },
    "stabilityDays": 0,
    "respectLatest": false,
    "ignoreUnstable": false
  },
  "packageRules": [
    {
      "description": "Security updates - High priority, auto-merge for patch versions with vulnerabilities",
      "matchPackagePatterns": ["*"],
      "matchUpdateTypes": ["patch"],
      "labels": ["security", "auto-merge"],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "merge",
      "platformAutomerge": true,
      "requiredStatusChecks": null,
      "schedule": ["at any time"],
      "prPriority": 10
    },
    {
      "description": "Security updates - High priority for minor/major versions with vulnerabilities",
      "matchPackagePatterns": ["*"],
      "matchUpdateTypes": ["minor", "major"],
      "labels": ["security", "manual-review"],
      "automerge": false,
      "schedule": ["at any time"],
      "prPriority": 9
    },
    {
      "description": "go-git library - Our vulnerable dependency of focus",
      "matchPackageNames": ["github.com/go-git/go-git/v5"],
      "labels": ["go-git", "cve-demo", "critical-security"],
      "prPriority": 15,
      "schedule": ["at any time"],
      "automerge": false,
      "prTitle": "üö® [CRITICAL] Fix CVE-2023-49568 in go-git - Path Traversal Vulnerability",
      "prBodyTemplate": "# Critical Security Update: CVE-2023-49568\n\n## üö® High Severity Path Traversal Vulnerability\n\n**Affected Package:** go-git/go-git  \n**Current Version:** {{{currentVersion}}}  \n**Fixed Version:** {{{newVersion}}}  \n**CVE:** CVE-2023-49568  \n**CVSS Score:** 7.5 (HIGH)\n\n## üìã Vulnerability Description\n\nThe go-git library is vulnerable to path traversal attacks when processing Git repositories. An attacker could potentially access files outside the intended directory structure during Git operations.\n\n## ‚ö†Ô∏è Impact\n\n- Unauthorized file system access\n- Potential data exfiltration  \n- Directory traversal attacks\n- Compromise of application security boundaries\n\n## üõ°Ô∏è Remediation\n\nThis update resolves the vulnerability by upgrading to a patched version that includes proper path validation and sanitization.\n\n## üîó References\n\n- [CVE-2023-49568](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-49568)\n- [Go-git Security Advisory](https://github.com/go-git/go-git/security/advisories)\n\n---\n\n**Note:** This PR demonstrates how Renovate can automatically detect and address security vulnerabilities in Go dependencies."
    }
  ],
  "lockFileMaintenance": {
    "enabled": false,
    "description": "Disable lock file maintenance to focus on vulnerability updates only"
  },
  "dependencyDashboard": true,
  "dependencyDashboardTitle": "üîí Security Dependency Dashboard",
  "dependencyDashboardHeader": "This dashboard tracks security-related dependency updates for our Go Security Demo project.\n\n**Focus:** Only dependencies with known vulnerabilities will be updated.\n\n**Current Vulnerable Dependencies:**\n- go-git v5.4.2 (CVE-2023-49568)",
  "onboarding": false,
  "requireConfig": "required"
}